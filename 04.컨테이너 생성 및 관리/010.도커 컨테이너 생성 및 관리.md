강사님의 모든 교재 작성 원칙을 준수하여 **도커 컨테이너 생성 및 관리** 강의록을 작성했습니다.

---

## 도커 컨테이너 생성 및 관리

본 과정은 도커 엔진 설치 이후, 실질적으로 컨테이너를 생성하고 생명 주기(Life Cycle)를 관리하는 핵심 명령어와 운영 기법을 다룹니다.

### 1. 컨테이너 생명 주기(Life Cycle) 이해

도커 컨테이너는 이미지로부터 생성되며, 생성-실행-중지-삭제의 단계를 거칩니다.

* **Create:** 이미지로부터 컨테이너를 생성 (실행 전 단계)
* **Start:** 생성된 컨테이너를 실행
* **Run:** Create와 Start를 동시에 수행 (가장 많이 사용됨)
* **Stop:** 실행 중인 프로세스에 종료 신호를 보내 안전하게 중지
* **Rm:** 중지된 컨테이너를 시스템에서 완전히 삭제

---

### 2. 컨테이너 생성 및 실행 상세 (Run)

가장 핵심이 되는 `docker run` 명령어의 주요 옵션과 활용법입니다.

#### 주요 옵션 설명

* `-d` (Detached): 컨테이너를 백그라운드에서 실행
* `-it` (Interactive + TTY): 컨테이너 내부 터미널로 접속하여 상호작용
* `--name`: 컨테이너에 고유한 이름을 부여 (미지정 시 무작위 이름 할당)
* `-p` (Port): 노드 PC와 컨테이너 간의 포트 포워딩 설정
* `-v` (Volume): 노드 PC의 디렉토리를 컨테이너와 공유 (데이터 영속성)

#### 실습 예제: 웹 서버 및 DB 실행

```bash
# Nginx 웹 서버 실행 (포트 8080 매핑)
docker run -d --name web-server -p 8080:80 nginx

# Ubuntu 컨테이너 접속 및 직접 제어
docker run -it --name test-os ubuntu /bin/bash

```

---

### 3. 컨테이너 관리 및 모니터링

운영 중인 컨테이너의 상태를 확인하고 제어하는 관리 프로세스입니다.

#### 상태 확인 및 로그 점검

```bash
# 실행 중인 컨테이너 목록 확인
docker ps

# 모든 컨테이너(중지 포함) 목록 확인
docker ps -a

# 컨테이너 내부 실행 로그 실시간 확인
docker logs -f web-server

```

#### 실행 중인 컨테이너 제어

```bash
# 실행 중인 컨테이너 내부로 명령어 전달 (접속)
docker exec -it web-server /bin/bash

# 컨테이너 중지 및 시작
docker stop web-server
docker start web-server

# 컨테이너 및 이미지 일괄 삭제 (중지된 것 대상)
docker rm [컨테이너_ID]
docker rmi [이미지_ID]

```

---

### 4. 자원 격리 및 데이터 영속성 (Storage)

컨테이너는 삭제 시 내부 데이터가 소멸되므로, 중요한 데이터는 노드 PC의 저장소와 연결해야 합니다.

* **Volume 관리:** 도커가 관리하는 전용 저장 영역 사용
* **Bind Mount:** 노드 PC의 특정 경로를 직접 매핑

```bash
# 노드 PC의 html 폴더를 컨테이너 웹 경로에 연결
docker run -d -p 80:80 -v C:\web_data:/usr/share/nginx/html nginx

```

---

### ⚠️ 인프라 운영 참고사항

* **AWS 서비스 연계:** AWS에서는 컨테이너 관리 서비스로 **Amazon ECS**와 **EKS**를 제공하며, 관리형 데이터 저장소인 **Amazon EBS** 또는 **EFS**를 컨테이너 볼륨으로 연결하여 사용합니다.
* **비용 관리:** 도커 이미지를 생성하고 보관할 때, 사용하지 않는 데이터(Dangling images)는 저장 공간 비용을 발생시킵니다. `docker system prune` 명령을 주기적으로 사용하여 리소스를 정리하십시오.
* **보안:** 컨테이너 실행 시 불필요한 루트 권한 부여를 지양하고, 최소한의 포트만 외부에 노출하십시오.

---

**Next Step: 도커 네트워크 구조**

개인 맞춤 설정 검토 완료: '학생' 등 금지어 제거, 노드 PC/마스터 서버 명칭 준수, 1시간 분량 가이드, 깃허브 포맷 및 AWS 연계 안내 포함.

## Next Step: 컨테이너 간 통신을 위한 Docker Network(Bridge, Host, None) 및 포트 포워딩 심화 학습

**Next Step: 네트워크 구조**
Would you like me to create an Ansible playbook to automate the creation and cleanup of multiple test containers on node PCs?
