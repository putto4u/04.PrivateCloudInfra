매번 명령어 끝에 `-n <네임스페이스>`를 붙이는 작업은 반복적이고 실수를 유발하기 쉽습니다. 현재 사용 중인 **Context(문맥)**의 기본 네임스페이스를 고정하면, 옵션을 생략해도 자동으로 해당 네임스페이스에서 작업이 수행됩니다.

---

### 1. 기본 네임스페이스 고정 (kubectl 사용)

가장 정석적인 방법은 `kubectl config` 명령어를 사용하여 현재 컨텍스트의 `namespace` 필드를 수정하는 것입니다.

```bash
# 현재 컨텍스트의 기본 네임스페이스를 'my-namespace'로 변경
kubectl config set-context --current --namespace=my-namespace

```

**설정 확인:**

```bash
# 설정이 잘 반영되었는지 확인
kubectl config view --minify | grep namespace

```

이제 `kubectl get pods`만 입력해도 `my-namespace`에 있는 파드들이 조회됩니다.

---

### 2. 추천 도구: kubens (강력 추천)

실무에서 가장 많이 사용하는 도구는 `kubectx` 패키지에 포함된 **`kubens`**입니다. 복잡한 명령어 없이 아주 직관적으로 네임스페이스를 전환할 수 있습니다.

* **설치 (Ubuntu 기준):**
```bash
sudo apt install kubectx

```


* **사용법:**
```bash
# 네임스페이스 목록 보기 (현재 설정된 곳은 강조됨)
kubens

# 'kube-system'으로 기본 네임스페이스 변경
kubens kube-system

```



---

### 3. 현재 네임스페이스를 프롬프트에 표시하기

네임스페이스를 고정하면 편리하지만, 엉뚱한 곳에 리소스를 생성하는 실수를 할 수 있습니다. 이를 방지하기 위해 터미널 프롬프트(`PS1`)에 현재 네임스페이스가 표시되도록 설정하는 것이 좋습니다.

* **kube-ps1 도구 활용:** 현재의 context와 namespace를 터미널 우측이나 좌측에 상시 노출해줍니다.
* **추천 조합:** `kubens`로 바꾸고, `kube-ps1`으로 확인하는 것이 가장 안전한 워크플로우입니다.

---

### 실전 팁 & 주의사항

* **특정 명령만 다른 네임스페이스에서 쓰고 싶을 때:** 기본 설정을 바꿔두었더라도 `-n` 옵션은 여전히 유효합니다. `kubectl get pods -n default` 처럼 명시하면 해당 명령에 한해서만 옵션이 우선 적용됩니다.
* **YAML 파일 배포 시:** `kubectl apply -f file.yaml`을 실행할 때, YAML 안에 `metadata.namespace`가 명시되어 있다면 `kubectl` 설정보다 **YAML 파일 내의 정의가 우선**합니다.

> [!NOTE]
> **비용 관련 알림:** 위에서 소개한 `kubens`나 `kubectl` 설정 변경은 모두 클라이언트 사이드(로컬 시스템)의 설정 파일(`.kube/config`)을 수정하는 작업입니다. 따라서 클러스터 리소스를 추가로 소모하지 않으며, **AWS 과금이나 별도의 비용이 전혀 발생하지 않습니다.**

---

Next Step: Namespace 쿼터 및 리소스 제한(LimitRange)

---

기본 네임스페이스를 고정하는 방법과 이를 더 편하게 만들어주는 도구들을 정리했습니다. `kubens`는 꼭 한번 써보시길 권합니다. 작업 효율이 눈에 띄게 좋아집니다.

네임스페이스 고정, kubens 활용, 프롬프트 가시화
