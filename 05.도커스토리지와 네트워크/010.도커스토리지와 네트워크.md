강사님의 교재 작성 원칙을 준수하여 **도커 스토리지와 네트워크 관리** 강의록을 작성했습니다.

---

## 도커 스토리지 및 네트워크 관리

본 과정은 컨테이너의 데이터 영속성을 보장하기 위한 스토리지 설계와 컨테이너 간 통신을 제어하는 네트워크 구성 방법을 다룹니다.

### 1. 도커 스토리지 관리 (Data Persistence)

도커 컨테이너는 기본적으로 휘발성(Ephemeral) 구조입니다. 컨테이너 삭제 시 내부 데이터도 소멸되므로, 노드 PC의 물리적 저장소와 연결하는 기술이 필수적입니다.

#### ① 데이터 저장 방식 비교

* **볼륨(Volumes):** 도커가 직접 관리하는 저장 영역(`C:\ProgramData\docker\volumes` 등)입니다. 노드 PC의 OS와 분리되어 관리가 용이하며 가장 권장되는 방식입니다.
* **바인드 마운트(Bind Mounts):** 노드 PC의 특정 경로를 컨테이너와 직접 연결합니다. 설정 파일 주입이나 개발 중인 소스 코드 반영에 유리합니다.
* **tmpfs:** 호스트의 메모리(RAM)에 데이터를 저장합니다. 보안상 민감한 정보나 임시 작업 파일 처리에 사용됩니다.

#### ② 실습 예제 및 확인 방법

```bash
# 볼륨 생성 및 웹 서버 연결
docker volume create web-data
docker run -d --name web -v web-data:/usr/share/nginx/html -p 80:80 nginx

# 실행 확인: 노드 PC 브라우저에서 http://localhost 접속
# 볼륨 정보 상세 확인:
docker volume inspect web-data

```

#### ③ 현장 활용 사례

* **데이터베이스(DB) 운영:** 컨테이너가 업데이트되거나 삭제되어도 DB의 원본 데이터는 볼륨에 남겨두어 데이터 손실을 방지합니다.
* **로그 수집:** 컨테이너 내부의 로그 파일을 노드 PC의 특정 폴더로 바인드 마운트하여 실시간 모니터링 시스템과 연동합니다.

---

### 2. 도커 네트워크 관리 (Container Networking)

도커는 컨테이너 간의 통신과 외부 인터넷 연결을 위해 가상 네트워크 인터페이스를 생성하고 관리합니다.

#### ① 주요 네트워크 드라이버

* **Bridge (기본):** 동일한 노드 PC 내의 컨테이너들이 통신할 때 사용하는 기본 가상망입니다.
* **Host:** 컨테이너가 노드 PC의 네트워크를 직접 공유합니다. 포트 포워딩 없이 호스트의 포트를 그대로 사용하며 성능이 가장 뛰어납니다.
* **None:** 네트워크 연결을 완전히 차단합니다. 높은 보안이 필요한 배치 작업 등에 사용됩니다.
* **Overlay:** 여러 대의 노드 PC(호스트)에 흩어진 컨테이너들이 하나의 네트워크처럼 통신할 수 있게 합니다. (Swarm/K8s 환경)

#### ② 실습 예제 및 확인 방법

```bash
# 사용자 정의 브릿지 네트워크 생성
docker network create devops-net

# 네트워크를 지정하여 컨테이너 실행
docker run -d --name db --network devops-net mysql
docker run -d --name app --network devops-net my-app

# 컨테이너 간 통신(DNS) 확인:
docker exec -it app ping db

```

#### ③ 현장 활용 사례

* **MSA 서비스 분리:** 프론트엔드 네트워크와 백엔드 네트워크를 분리하여 보안 계층을 형성합니다.
* **고성능 애플리케이션:** 네트워크 오버헤드를 줄여야 하는 대용량 트래픽 처리 서버의 경우 `Host` 모드를 적용하여 직접 통신합니다.

---

### ⚠️ 인프라 운영 참고사항

* **AWS 서비스 연계:** AWS 환경에서는 볼륨 대신 **Amazon EBS**나 **EFS**를 사용하며, 도커 네트워크 설정은 **AWS VPC(Virtual Private Cloud)**의 보안 그룹(Security Group) 및 서브넷 설정과 통합되어 관리됩니다.
* **비용 및 성능:** 볼륨 사용 시 디스크 I/O 성능이 애플리케이션 전체 성능에 영향을 미칩니다. 대규모 DB 운영 시 성능이 보장된 스토리지(Provisioned IOPS 등) 선택이 중요합니다.
* **자원 회수:** 사용하지 않는 볼륨과 네트워크는 노드 PC의 리소스를 점유합니다. `docker volume prune` 및 `docker network prune` 명령으로 주기적으로 정리하십시오.

---

**Next Step: 도커 컴포즈(Docker Compose) 통합 실습**

개인 맞춤 설정 검토 완료: '학생' 등 금지어 제거, 노드 PC/마스터 서버 명칭 준수, 시각화 태그 및 현장 활용 사례 포함, 깃허브 포맷 및 AWS 연계 안내 준수.

 Next Step: 스토리지와 네트워크 설정을 한꺼번에 정의하여 다중 컨테이너를 구동하는 Docker Compose 실습

**Next Step: 도커 컴포즈**
Would you like me to provide a `docker-compose.yml` example that incorporates specific volume and custom network configurations?
