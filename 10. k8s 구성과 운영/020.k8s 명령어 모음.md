쿠버네티스 생태계에는 역할과 대상에 따라 명령어가 명확히 구분되어 있습니다. 크게 클러스터 구축(Manager), 자원 관리(User), 노드 에이전트(Agent), 그리고 이미지 관리(Runtime) 단계로 나뉩니다.




### 쿠버네티스 주요 명령어 도구 종합 비교표 

| 도구 (Tool) | 핵심 명령어 및 주요 옵션 | 주요 목적 (Primary Purpose) | 실행 위치 |
| --- | --- | --- | --- |
| **`kubeadm`** | • **`init`**: `--pod-network-cidr` (네트워크 대역), `--apiserver-advertise-address` (IP 지정)<br>

<br>• **`join`**: `--token`, `--discovery-token-ca-cert-hash` (보안 인증)<br>

<br>• **`reset`**: `--force` (설정 강제 초기화)<br>

<br>• **`upgrade`**: `plan` (계획), `apply` (버전 적용) | 클러스터 구축, 확장, 버전 업그레이드 | 마스터/워커 노드 직접 실행 |
| **`kubectl`** | • **`get`**: `-n [NS]` (네임스페이스), `-o wide/yaml/json` (출력 형식)<br>

<br>• **`describe`**: (상세 상태 및 이벤트 확인)<br>

<br>• **`apply`**: `-f [파일]` (YAML 설정 반영)<br>

<br>• **`logs`**: `-f` (실시간), `--tail` (마지막 줄)<br>

<br>• **`exec`**: `-it [POD] -- [명령]` (내부 접속) | Pod, Service 등 쿠버네티스 객체 생성 및 관리 | 사용자 PC 또는 마스터 노드 |
| **`kubelet`** | • **`--kubeconfig`**: (인증 정보 경로)<br>

<br>• **`--config`**: (상세 설정 YAML 경로)<br>

<br>• **`--container-runtime-endpoint`**: (런타임 소켓 경로)<br>

<br>• **`--node-ip`**: (특정 노드 IP 강제 지정) | 노드 내 컨테이너 실행 상태 유지 및 관리 | 각 노드 (systemd 서비스) |
| **`crictl`** | • **`ps`**: `-a` (정지된 컨테이너 포함)<br>

<br>• **`images`**: (이미지 목록 확인)<br>

<br>• **`inspect`**: (컨테이너 상세 JSON 정보)<br>

<br>• **`stats`**: (실시간 리소스 사용량) | 컨테이너 런타임(containerd 등) 직접 점검 | 각 워커 노드 |

---

### 명령어 활용 팁

* **명령어 자동 완성**: `kubectl`을 사용할 때 `source <(kubectl completion bash)`를 설정하면 탭(Tab) 키로 명령어를 자동 완성할 수 있어 실무 효율이 비약적으로 상승합니다.
* **별칭(Alias) 설정**: `alias k='kubectl'`을 지정하여 길게 입력하는 번거로움을 줄이는 것이 표준입니다.
* **Context 확인**: `kubectl config current-context` 명령어를 통해 내가 현재 어느 클러스터(운영/개발)에 명령을 내리고 있는지 항상 먼저 확인해야 합니다.

---
쿠버네티스 생태계에는 역할과 대상에 따라 명령어가 명확히 구분되어 있습니다. 크게 **클러스터 구축(Manager)**, **자원 관리(User)**, **노드 에이전트(Agent)**, 그리고 **이미지 관리(Runtime)** 단계로 나뉩니다.

---

### 1. 쿠버네티스 명령어 체계의 범주

쿠버네티스 운영은 크게 아래 4가지 도구의 조합으로 이루어집니다.

| 명령어 | 대상 | 주체 | 설명 |
| --- | --- | --- | --- |
| **`kubeadm`** | **클러스터 전체** | 인프라 관리자 | 클러스터를 생성, 확장, 업그레이드하는 구축 도구 |
| **`kubectl`** | **쿠버네티스 객체** | 사용자/개발자 | Pod, Service 등 클러스터 내부 자원을 조작하는 핵심 도구 |
| **`kubelet`** | **개별 노드** | 시스템 데몬 | 각 노드에서 컨테이너 실행 상태를 관리하는 에이전트 (직접 실행X) |
| **`crictl`** | **컨테이너 런타임** | 트러블슈터 | containerd 등 하부 엔진을 직접 점검하는 디버깅 도구 |

---

### 2. 범주별 주요 명령어 및 옵션 리스트

#### ① kubeadm: 클러스터 생명주기 관리

클러스터를 처음 만들거나 노드를 추가할 때 사용합니다.

| 명령어 | 설명 | 주요 옵션 |
| --- | --- | --- |
| `init` | 마스터 노드 초기화 | `--pod-network-cidr`: Pod 대역 지정<br>

<br>`--apiserver-advertise-address`: API 서버 IP |
| `join` | 워커 노드를 클러스터에 추가 | `--token`: 인증 토큰<br>

<br>`--discovery-token-ca-cert-hash`: 보안 해시 |
| `reset` | 노드 설정 초기화 | `--force`: 강제 초기화 |
| `token` | 조인용 토큰 관리 | `create`, `list`, `delete` |
| `upgrade` | 클러스터 버전 업그레이드 | `plan` (계획 확인), `apply` (적용) |

#### ② kubectl: 클러스터 내부 자원 관리 (가장 많이 사용)

사용자가 API 서버와 통신하여 서비스를 배포하고 관리합니다.

| 명령어 | 설명 | 주요 옵션 |
| --- | --- | --- |
| `get` | 자원 목록 출력 | `-o wide` (상세 정보), `-n [NS]` (네임스페이스 지정) |
| `describe` | 자원 상세 상태 확인 | (오류 발생 시 원인 파악용으로 필수 사용) |
| `apply` | YAML 파일 설정 적용 | `-f [파일명]`: 파일 경로 지정 |
| `logs` | 컨테이너 로그 출력 | `-f` (실시간 팔로우), `--tail=10` (마지막 10줄) |
| `exec` | 컨테이너 내부 명령 실행 | `-it [POD명] -- [명령어]` (대화형 터미널 접속) |
| `delete` | 자원 삭제 | `--all` (해당 타입 전체 삭제), `--grace-period=0` (즉시 삭제) |

#### ③ crictl: 컨테이너 런타임 인터페이스(CRI) 도구

쿠버네티스가 사용하는 하부 엔진(containerd)을 직접 점검할 때 사용합니다. `docker` 명령어와 매우 유사합니다.

| 명령어 | 설명 | 주요 옵션 |
| --- | --- | --- |
| `ps` | 실행 중인 컨테이너 확인 | `-a` (정지된 컨테이너 포함) |
| `images` | 다운로드된 이미지 목록 | (불필요한 이미지 용량 확인 시 사용) |
| `stats` | 컨테이너 자원 사용량 | (실시간 CPU/Memory 점유율 확인) |
| `inspect` | 컨테이너 상세 정보(JSON) | (네트워크, 마운트 경로 등 상세 분석) |

---

### 3. 흐름으로 보는 명령어 사용 시나리오

1. **인프라 구축**: `kubeadm init`으로 마스터 생성 → `kubeadm join`으로 워커 연결.
2. **서비스 배포**: `kubectl apply -f my-web.yaml`로 웹 서버 배포.
3. **상태 모니터링**: `kubectl get pods`로 상태 확인 → 문제가 있다면 `kubectl describe pod`로 원인 분석.
4. **하부 엔진 점검**: 노드 통신 문제 발생 시 해당 노드에 접속하여 `crictl ps`로 엔진 상태 확인.

---

### AWS 비용 및 유료 전환 주의사항

* **AWS EKS (Managed Service)**: EKS를 사용하면 `kubeadm`을 직접 쓸 일이 거의 없습니다. AWS가 클러스터 구축을 대신 해주기 때문입니다. 하지만 클러스터 관리 비용으로 **시간당 $0.10**이 발생합니다.
* **kubectl & CloudShell**: AWS 웹 콘솔에서 제공하는 CloudShell에서 `kubectl`을 사용할 경우 별도 도구 설치 비용은 없으나, 이를 통해 생성하는 **LoadBalancer 타입 서비스**나 **EBS 볼륨** 등은 즉시 과금 대상이 됩니다.
* **crictl on EC2**: 워커 노드(EC2)에 접속하여 `crictl` 명령어로 디버깅할 때, 너무 많은 로그를 출력하거나 덤프 파일을 생성하면 **EBS 스토리지 용량 부족**으로 인해 인스턴스가 멈출 수 있으니 주의해야 합니다.

Next Step: kubectl 명령어 활용 심화 및 YAML 매니페스트 작성법

범주별로 명령어를 구분해 두면 장애 발생 시 어떤 도구를 꺼내 들어야 할지 명확해집니다.

Next Step: kubectl 심화 활용법

Next Step: kubectl 명령어 자동 완성 및 환경 설정 실습

---


Next Step: kubectl 환경 최적화 실습
