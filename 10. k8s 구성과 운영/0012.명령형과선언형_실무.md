## Kubernetes κ°μ²΄ μƒμ„± λ°©μ‹: Imperative vs Declarative

μΏ λ²„λ„¤ν‹°μ¤μ—μ„ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•λ” λ°©λ²•μ€ ν¬κ² **λ…λ Ήν•(Imperative)** λ°©μ‹κ³Ό **μ„ μ–Έν•(Declarative)** λ°©μ‹μΌλ΅ λ‚λ‰©λ‹λ‹¤. κ²°λ΅ λ¶€ν„° λ§μ”€λ“λ¦¬λ©΄, ν•™μµ λ‹¨κ³„μ—μ„λ” λ…λ Ήμ–΄κ°€ λΉ λ¥Ό μ μμ§€λ§ **μ‹¤λ¬΄μ™€ μ΄μ λ‹¨κ³„μ—μ„λ” λ°λ“μ‹ YAML(μ„ μ–Έν•)μ„ μ‚¬μ©**ν•΄μ•Ό ν•©λ‹λ‹¤.

---

### 1. λ…λ Ήν• λ°©μ‹ (Imperative CLI)

`kubectl run`, `kubectl expose`, `kubectl create` λ“±μ λ…λ Ήμ–΄λ¥Ό μ§μ ‘ μ…λ ¥ν•μ—¬ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•λ” λ°©μ‹μ…λ‹λ‹¤.

* **μ¥μ :**
* μ†λ„κ°€ λ§¤μ° λΉ λ¦…λ‹λ‹¤. κ°„λ‹¨ν• ν…μ¤νΈλ‚ μΌμ‹μ μΈ Pod μƒμ„±μ— μ λ¦¬ν•©λ‹λ‹¤.
* YAML λ¬Έλ²•μ„ λ°λΌλ„ μ¦‰μ‹ μ‹¤ν–‰ κ°€λ¥ν•©λ‹λ‹¤.


* **λ‹¨μ :**
* **κΈ°λ΅μ΄ λ‚¨μ§€ μ•μµλ‹λ‹¤.** μ–΄λ–¤ μµμ…μΌλ΅ μƒμ„±ν–λ”μ§€ λ‚μ¤‘μ— ν™•μΈν•κΈ° μ–΄λ µμµλ‹λ‹¤.
* λ³€κ²½ μ΄λ ¥ κ΄€λ¦¬(Version Control)κ°€ λ¶κ°€λ¥ν•©λ‹λ‹¤.
* λ³µμ΅ν• μ„¤μ •(Volume, Affinity, λ‹¤μ¤‘ μ»¨ν…μ΄λ„ λ“±)μ„ λ°μν•κΈ°μ— ν•κ³„κ°€ μμµλ‹λ‹¤.



### 2. μ„ μ–Έν• λ°©μ‹ (Declarative YAML)

YAML νμΌμ— "λ‚΄κ°€ μ›ν•λ” μƒνƒ(Desired State)"λ¥Ό μ •μν•κ³  `kubectl apply -f <νμΌλ…>`μΌλ΅ λ°μν•λ” λ°©μ‹μ…λ‹λ‹¤.

* **μ¥μ :**
* **μ½”λ“λ΅μ„μ μΈν”„λΌ(IaC):** Gitκ³Ό κ°™μ€ λ²„μ „ κ΄€λ¦¬ μ‹μ¤ν…μ— μ €μ¥ν•μ—¬ λ³€κ²½ μ΄λ ¥μ„ μ¶”μ ν•  μ μμµλ‹λ‹¤.
* **λ³µν•©μ μΈ μ„¤μ •:** λ³µμ΅ν• μ•„ν‚¤ν…μ²λ¥Ό ν• λ²μ— μ •μν•κ³  λ°°ν¬ν•  μ μμµλ‹λ‹¤.
* **μ¬μ‚¬μ©μ„±:** λ™μΌν• μ„¤μ •μ„ μ΄μ, κ°λ°, ν…μ¤νΈ ν™κ²½μ— κ·Έλ€λ΅ λ³µμ ν•  μ μμµλ‹λ‹¤.
* **μ…€ν”„ νλ§:** μΏ λ²„λ„¤ν‹°μ¤ μ»¨νΈλ΅¤λ¬κ°€ YAMLμ— μ •μλ μƒνƒλ¥Ό μ μ§€ν•κΈ° μ„ν•΄ μ§€μ†μ μΌλ΅ κ°μ‹ν•©λ‹λ‹¤.


* **λ‹¨μ :**
* YAML λ¬Έλ²•(λ“¤μ—¬μ“°κΈ° λ“±)μ— μµμ™ν•΄μ Έμ•Ό ν•©λ‹λ‹¤.
* νμΌμ„ μ‘μ„±ν•κ³  κ΄€λ¦¬ν•λ” μ΄κΈ° λΉ„μ©μ΄ λ°μƒν•©λ‹λ‹¤.



---

### 3. λΉ„κµ μ”μ•½

| κµ¬λ¶„ | λ…λ Ήν• (CLI) | μ„ μ–Έν• (YAML) |
| --- | --- | --- |
| **μ‘μ—… μ†λ„** | λΉ λ¦„ (μΌνμ„±) | λλ¦Ό (νμΌ μ‘μ„± ν•„μ”) |
| **κ΄€λ¦¬ νΈμμ„±** | λ‚®μ (κΈ°λ΅ μ—†μ) | λ†’μ (Git μ—°λ™ κ°€λ¥) |
| **λ³µμ΅λ„ λ€μ‘** | μ–΄λ ¤μ›€ | λ§¤μ° μ ν•©ν•¨ |
| **μ¶”μ² μ©λ„** | λ””λ²„κΉ…, κ°„λ‹¨ν• ν…μ¤νΈ | **μ‹¤λ¬΄ μ΄μ, CI/CD, λ€κ·λ¨ ν΄λ¬μ¤ν„°** |

---

### π’΅ μ‹¤μ „ ν: λ‘ λ°©μ‹μ μ΅°ν•© (Dry Run)

μ „λ¬Έκ°€λ“¤μ€ YAMLμ„ μ²μλ¶€ν„° νƒ€μ΄ν•‘ν•μ§€ μ•μµλ‹λ‹¤. λ…λ Ήμ–΄λ΅ λΌλ€λ¥Ό λ§λ“¤κ³  νμΌλ΅ μ €μ¥ν•λ” λ°©μ‹μ„ μ£Όλ΅ μ‚¬μ©ν•©λ‹λ‹¤.

```bash
# 1. λ…λ Ήμ–΄λ΅ YAML λΌλ€ μƒμ„± (μ‹¤μ  μ‹¤ν–‰μ€ ν•μ§€ μ•μ)
kubectl run my-nginx --image=nginx --dry-run=client -o yaml > nginx-pod.yaml

# 2. μƒμ„±λ nginx-pod.yaml νμΌμ„ μ—΄μ–΄ μ„Έλ¶€ μ„¤μ • μμ •

# 3. μμ •λ νμΌμ„ μ„ μ–Έν•μΌλ΅ λ°μ
kubectl apply -f nginx-pod.yaml

```

μ΄ λ°©μ‹μ„ μ‚¬μ©ν•λ©΄ μ¤νƒ€λ¥Ό μ¤„μ΄λ©΄μ„λ„ μ„ μ–Έν• λ°©μ‹μ μ¥μ μ„ λ¨λ‘ λ„λ¦΄ μ μμµλ‹λ‹¤.

---

κ°•μ κµμ¬ κµ¬μ„±μ— λ§μ¶° λ…λ Ήν•μ ν•κ³„μ™€ μ„ μ–Έν•μ λ‹Ήμ„μ„±μ„ λΉ„κµν•μ—¬ μ •λ¦¬ν–μµλ‹λ‹¤.

Next Step: YAML κΈ°λ³Έ λ¬Έλ²• λ° μ£Όμ” ν•„λ“ μ΄ν•΄ν•κΈ°
