도커를 관리할 때 가장 자주 사용하는 명령어들을 기능별로 분류하여 정리했습니다. 각 명령어는 실무에서 바로 활용할 수 있는 예시를 포함하고 있습니다.

---

### 1. 컨테이너 관리 명령어

컨테이너의 생명 주기(생성, 실행, 중지, 삭제)를 제어하는 핵심 명령어입니다.

| 기능 | 명령어 | 실행 예시 (실례) | 설명 |
| --- | --- | --- | --- |
| **생성 및 실행** | `docker run` | `docker run -d --name web -p 80:80 nginx` | nginx 이미지를 'web'이라는 이름의 컨테이너로 백그라운드 실행 |
| **목록 확인** | `docker ps` | `docker ps -a` | 실행 중인 컨테이너 확인 (`-a`는 정지된 컨테이너 포함) |
| **중지** | `docker stop` | `docker stop web` | 실행 중인 'web' 컨테이너를 안전하게 중지 |
| **시작** | `docker start` | `docker start web` | 중지된 'web' 컨테이너를 다시 시작 |
| **삭제** | `docker rm` | `docker rm -f web` | 'web' 컨테이너 삭제 (`-f`는 실행 중이어도 강제 삭제) |
| **로그 확인** | `docker logs` | `docker logs -f web` | 'web' 컨테이너의 출력 로그를 실시간(`-f`) 확인 |
| **컨테이너 접속** | `docker exec` | `docker exec -it web /bin/bash` | 실행 중인 'web' 컨테이너 내부 터미널에 접속 |

---

### 2. 이미지 관리 명령어

도커 이미지를 다운로드하거나 생성하고 관리하는 명령어입니다.

| 기능 | 명령어 | 실행 예시 (실례) | 설명 |
| --- | --- | --- | --- |
| **이미지 다운로드** | `docker pull` | `docker pull mysql:8.0` | 도커 허브에서 MySQL 8.0 버전 이미지를 내려받음 |
| **이미지 목록** | `docker images` | `docker images` | 로컬 서버에 저장된 모든 이미지 목록 확인 |
| **이미지 삭제** | `docker rmi` | `docker rmi nginx:latest` | 로컬의 nginx 최신 버전 이미지 삭제 |
| **이미지 빌드** | `docker build` | `docker build -t myapp:1.0 .` | 현재 디렉토리의 Dockerfile을 사용하여 'myapp:1.0' 이미지 생성 |
| **이미지 태그** | `docker tag` | `docker tag myapp:1.0 repo/myapp:v1` | 기존 이미지에 새로운 이름이나 버전(태그) 추가 |

---

### 3. 자원 및 네트워크 관리 명령어

컨테이너가 사용하는 데이터(볼륨)와 네트워크 환경을 관리합니다.

| 기능 | 명령어 | 실행 예시 (실례) | 설명 |
| --- | --- | --- | --- |
| **볼륨 생성** | `docker volume create` | `docker volume create db_data` | 데이터를 영구 저장할 'db_data' 볼륨 생성 |
| **네트워크 생성** | `docker network create` | `docker network create my_net` | 컨테이너 간 통신을 위한 'my_net' 네트워크 생성 |
| **리소스 사용량** | `docker stats` | `docker stats` | 실행 중인 컨테이너의 CPU, 메모리 사용량 실시간 모니터링 |
| **시스템 정리** | `docker system prune` | `docker system prune -a` | 사용하지 않는 컨테이너, 네트워크, 이미지를 일괄 삭제 |

---

vm복제후
**1. 새 Mac 주소 생성**
**2. /etc/hostname 호스트네임변경**
**3. /etc/machine-id 재생성
     ``` 
     $ sudo rm /etc/machine-id
     $ sudo systemd-machine-id-setup
     ```



### 4. 실무 활용 팁: 한 줄 명령어로 정리하기

강의나 실습 중에 서버를 깨끗하게 비워야 할 때 유용한 명령어 조합입니다.

* **모든 컨테이너 중지 및 삭제**:
```bash
# 모든 컨테이너 ID를 가져와서 중지 후 삭제
docker stop $(docker ps -aq) && docker rm $(docker ps -aq)

```


* **태그가 <none>인 불필요한 이미지 삭제**:
```bash
# 빌드 실패 등으로 남은 찌꺼기 이미지 정리
docker rmi $(docker images -f "dangling=true" -q)

```



> [!IMPORTANT]
> **과금 및 자원 주의**: `docker system prune -a` 명령은 로컬에 저장된 모든 이미지를 삭제하므로, 다시 실행할 때마다 도커 허브에서 이미지를 새로 내려받아야 합니다. 이 과정에서 **네트워크 트래픽(Data Transfer Out)** 비용이 발생할 수 있으니 AWS 환경에서는 주의가 필요합니다.

Next Step: **도커 볼륨(Volume)을 활용한 데이터 보존 실습**
