
쿠버네티스에서 네임스페이스를 관리하고 컨텍스트를 전환하는 효율적인 방법입니다. 특히 강의를 진행하실 때 반복적인 타이핑을 줄이는 데 매우 유용합니다.

---

## 1. 네임스페이스 생성

먼저 요청하신 두 개의 네임스페이스를 생성합니다.

```bash
kubectl create namespace wb_prod
kubectl create namespace wb_dev

```

---

## 2. 기본 네임스페이스(Default) 설정 방법

현재 사용 중인 컨텍스트의 기본 네임스페이스를 `wb_prod`로 고정하는 방법입니다. 이렇게 설정하면 이후 모든 `kubectl` 명령에서 `-n wb_prod`를 생략할 수 있습니다.

```bash
kubectl config set-context --current --namespace=wb_prod

```

**설정 확인:**

```bash
kubectl config view --minify | grep namespace:

```

* 위 명령을 실행했을 때 `namespace: wb_prod`가 출력되면 성공입니다.

---

## 3. 디폴트 네임스페이스 옮기는 법 (전환)

운영 환경(`wb_prod`)에서 개발 환경(`wb_dev`)으로 기본 설정을 옮기고 싶을 때도 동일한 명령어를 사용합니다.

```bash
# wb_dev로 전환
kubectl config set-context --current --namespace=wb_dev

# 다시 wb_prod로 전환
kubectl config set-context --current --namespace=wb_prod

```

---

## 4. [강사 추천] 더 편리한 도구 사용 (kubens)

매번 긴 `kubectl config` 명령어를 치는 것은 번거롭습니다. 실무와 강의에서 가장 많이 사용하는 **kubectx & kubens** 도구를 추천합니다.

* **설치 (Mac 기준):** `brew install kubectx`
* **사용법:**
* `kubens`: 현재 생성된 모든 네임스페이스 목록 표시
* `kubens wb_dev`: 즉시 기본 네임스페이스를 `wb_dev`로 변경
* `kubens -`: 이전 네임스페이스로 즉시 복귀 (Git의 `git checkout -`와 유사)



> [!TIP]
> **Bash/Zsh Alias 활용**: 도구 설치가 어렵다면 `~/.bashrc`나 `~/.zshrc`에 별칭을 등록해두면 편리합니다.
> `alias kcp='kubectl config set-context --current --namespace=wb_prod'`
> `alias kcd='kubectl config set-context --current --namespace=wb_dev'`

---

## 5. 주의사항

* **실수 방지**: 기본 네임스페이스를 설정해두면 자칫 운영 환경(`wb_prod`)인 것을 잊고 삭제 명령(`delete`)을 내릴 위험이 있습니다. 강의 시에는 현재 내가 어떤 네임스페이스에 있는지 프롬프트에 표시해주는 **kube-ps1** 같은 도구와 병행하는 것을 권장합니다.
* **비용 관련**: 네임스페이스 생성 및 전환 자체는 쿠버네티스 API 객체를 조작하는 것이므로 **추가 비용이 전혀 발생하지 않습니다.**

---

Next Step: **kube-ps1을 이용한 터미널 프롬프트 설정 방법** 혹은 **네임스페이스별 리소스 제한(ResourceQuota) 설정**
