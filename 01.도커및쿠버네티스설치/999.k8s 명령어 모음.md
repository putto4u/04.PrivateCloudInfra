# k8s 컨트롤 플레인 상태 확인
```
$ sudo i 
# kubelet --version
:
# kubelet version --output=yaml
```





$ kubectl get nodes  # 노드 상태 확인

$ kubectl cluster-info

kubectl get pods -n kube-system


kubectl get componentstatuses   # 컴포넌트 헬스 체크
또는 kubectl get cs


curl -k https://localhost:6443/livez  # API 서버 통신 테스트
ok



##### 마스터 노드 설정 다른 방법(Calico 등)
$ kubeadm  certs  check-expiration # 쿠버네 인증서 확인

$ kubeadm config images list  # 사용할 이미지 리스트 확인

$ sudo i 
```
# kubeadm config images pull 쿠버네티스 마스터노드 이미지 다운로드
:error : CRI 여러개...

# kubeadm config images pull --cri-socket   /run/containderd/containerd.sock  # CRI 를 containerd로 설정해서 이미지 pull

# kubeadm  init --apiserver-advertise-address=10.0.2.4  \     # 마스터노드 ip 설정 
  --pod-network-cidr=192.168.0.0/16    \  Calicl 일때, flannel : 10.244.0.0/16 
  --cri-socket /run/containderd/containerd.sock 

  : 토큰값 메모장 메모 또는 .ssh에 저장

# kubeadm cert check-expiration
: 정상

#exit
```

# 2. 유저(root가 아닌)도 kubectl을 사용할 수 있도록 환경 변수 설정
mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config


  
