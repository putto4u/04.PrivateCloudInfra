## Nginx Deployment 및 Service 이름 수정

요청하신 대로 Deployment 이름을 `ng-web`으로, Service 이름을 `fr-end`로 수정한 YAML 파일입니다.

---

### 1. 수정된 YAML 파일 (`ng-web.yaml`)

이 파일은 2개의 Nginx Pod을 배포하고, `fr-end`라는 이름의 서비스를 통해 외부와 연결합니다.

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ng-web
  namespace: wb-prod
  labels:
    app: nginx
spec:
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:latest
        ports:
        - containerPort: 80
---
apiVersion: v1
kind: Service
metadata:
  name: fr-end
  namespace: wb-prod
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
      nodePort: 30080

```

---

### 2. 실행 및 확인 절차

1. **기존 리소스 삭제 (필요 시):**
이전에 만든 이름과 다르기 때문에 기존 리소스가 남아있을 수 있습니다. 깨끗한 환경을 위해 삭제 후 진행하세요.
```bash
kubectl delete deployment nginx-deployment
kubectl delete service nginx-service

```


2. **새 설정 적용:**
```bash
kubectl apply -f ng-web.yaml  -n wb-prod

```


3. **리소스 이름 변경 확인:**
```bash
# Deployment 확인
kubectl get deployment ng-web

# Service 확인
kubectl get service fr-end

```



---

### 3. 브라우저 확인 방법

* **NodePort 주소:** `http://<Node-IP>:30080`
* **Port-Forwarding 사용 시:**
```bash
kubectl port-forward svc/fr-end 8080:80

```
```
kubectl port-forward --address 0.0.0.0 svc/fr-end 8080:80 -n wb-prod  
# 네임스페이스를 지정해주면 http://192.168.100.251:8080 접속 가능
```


> **AWS 과금 관련 참고:** 위 설정은 `NodePort`를 사용하므로 추가적인 로드밸런서 비용이 발생하지 않습니다. 하지만 만약 `type: LoadBalancer`로 수정하여 EKS 등에서 실행하면 **NLB/CLB 생성에 따른 비용이 즉시 발생**하니 주의하시기 바랍니다.

---

**Next Step:** 수정된 리소스의 롤링 업데이트(Rolling Update) 전략 설정
**Next Step:** `fr-end` 서비스에 도메인을 연결하기 위한 Ingress 설정 방법
