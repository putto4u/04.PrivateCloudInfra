쿠버네티스(Kubernetes) 운영의 핵심은 '선언적 명령'입니다. 사용자가 원하는 상태를 **YAML(YAML Ain't Markup Language)** 파일로 정의하여 제출하면, 쿠버네티스는 시스템이 그 상태를 유지하도록 지속적으로 감시하고 조정합니다.

---

### **1. YAML 파일의 기본 구조**

쿠버네티스 객체를 생성하기 위한 YAML 파일은 반드시 포함해야 하는 **4가지 핵심 필드**가 있습니다.

* **apiVersion**: 이 객체를 생성하기 위해 사용하는 쿠버네티스 API의 버전입니다. (예: `v1`, `apps/v1`)
* **kind**: 어떤 종류의 객체를 생성하고자 하는지 정의합니다. (예: `Pod`, `Service`, `Deployment`)
* **metadata**: 객체의 이름을 포함하여 `uid`, `labels`, `namespace` 등 객체를 식별할 수 있는 정보를 담습니다.
* **spec**: 사용자가 원하는 객체의 상태(상세 설정)를 정의합니다. 컨테이너 이미지, 포트 번호, 복제본 수 등이 여기에 해당합니다.

---

### **2. 쿠버네티스 주요 객체 (Objects)**

쿠버네티스에서 관리하는 가장 기본적인 구성 요소들입니다.

#### **① Pod (파드)**

* **설명**: 쿠버네티스에서 생성하고 관리할 수 있는 가장 작은 배포 단위입니다.
* **특징**: 하나 이상의 컨테이너가 그룹화되어 실행되며, 네트워크와 스토리지를 공유합니다.

#### **② Deployment (디플로이먼트)**

* **설명**: 파드와 레플리카셋(ReplicaSet)에 대한 선언적 업데이트 설정을 제공합니다.
* **특징**: 애플리케이션의 배포, 롤백, 복제본 개수 유지를 담당하며 실무에서 가장 많이 사용됩니다.

#### **③ Service (서비스)**

* **설명**: 파드 집합에서 실행 중인 애플리케이션을 네트워크 서비스로 노출하는 추상화 방법입니다.
* **특징**: 파드는 생성과 소멸이 빈번하여 IP가 계속 변하지만, 서비스는 고정된 IP나 DNS 이름을 제공하여 안정적인 통신을 가능하게 합니다.

#### **④ Namespace (네임스페이스)**

* **설명**: 한 물리적 클러스터 내의 가상 클러스터입니다.
* **특징**: 프로젝트나 팀별로 자원을 분리하여 관리할 때 사용합니다.

---

### **3. YAML 작성 예시 (Pod)**

가장 기본적인 Nginx 웹 서버 파드를 생성하는 YAML 예시입니다.

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  labels:
    app: web
spec:
  containers:
  - name: nginx-container
    image: nginx:1.14.2
    ports:
    - containerPort: 80

```

> **비용 주의 (AWS 기준):** > 위 YAML을 로컬(minikube 등)에서 실행하면 비용이 들지 않으나, **AWS EKS** 환경에서 실행할 경우 노드로 사용되는 **EC2 인스턴스 비용**과 **EBS(Elastic Block Store) 스토리지 비용**이 발생합니다. 특히 외부 노출을 위해 `kind: Service`에서 `type: LoadBalancer`를 사용할 경우 **AWS NLB/ALB 요금**이 추가로 부과됩니다.

---

**Next Step: 쿠버네티스 컨트롤러와 Deployment 배포 전략**

* 제시된 YAML 구조를 바탕으로 실제 `kubectl apply -f` 명령어를 통해 객체를 생성하는 과정을 진행할 수 있습니다.
* 작성하신 YAML에 에러가 없는지 검증하는 도구들에 대해서도 다룰 예정입니다.
