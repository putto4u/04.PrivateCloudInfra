쿠버네티스 노드 OS 레벨에서 실행 중인 주요 데몬들을 확인하는 명령어와, 터미널에서 실제로 관찰되는 출력 결과 예시를 정리합니다.

---

### 1. `systemctl`을 이용한 서비스 상태 확인

리눅스의 서비스 관리자인 `systemctl`을 사용하면 `kubelet`이나 컨테이너 런타임(`containerd`)의 동작 상태를 명확하게 확인할 수 있습니다.

**[명령어 및 출력 예시]**

```bash
$ systemctl status kubelet

● kubelet.service - Kubernetes Kubelet
     Loaded: loaded (/lib/systemd/system/kubelet.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2026-01-28 09:00:15 KST; 2h 15min ago
       Docs: https://kubernetes.io/docs/home/
   Main PID: 1234 (kubelet)
      Tasks: 12 (limit: 4687)
     Memory: 65.4M
        CPU: 1min 22.456s
     CGroup: /system.slice/kubelet.service
             └─1234 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf ...

```

---

### 2. `ps` 명령어를 이용한 프로세스 상세 확인

`ps` 명령어를 사용하면 현재 메모리에 상주하며 실행 중인 모든 쿠버네티스 관련 데몬의 실행 경로와 파라미터를 한눈에 볼 수 있습니다.

**[명령어 및 출력 예시]**

```bash
$ ps -ef | grep -E 'kubelet|kube-proxy|containerd' | grep -v grep

root        1234       1  1 09:00 ?        00:01:22 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf ...
root        1567       1  0 09:00 ?        00:00:45 /usr/local/bin/kube-proxy --config=/var/lib/kube-proxy/config.conf ...
root         890       1  0 08:55 ?        00:02:10 /usr/bin/containerd

```

* **PID (1234, 1567 등):** 각 데몬에 할당된 고유 프로세스 ID입니다.
* **Command:** 데몬이 실행될 때 참조하는 설정 파일(`--config`)과 옵션들을 확인할 수 있습니다.

---

### 3. 마스터 노드 구성 요소 확인 (Static Pod 방식)

최신 쿠버네티스(kubeadm 설치 기준)에서 `api-server`, `scheduler` 등은 OS 프로세스가 아닌 **Static Pod**로 실행되기도 합니다. 이 경우 아래 명령어로 확인되는 프로세스는 결국 컨테이너화된 데몬입니다.

**[명령어 및 출력 예시]**

```bash
$ kubectl get pods -n kube-system

NAME                               READY   STATUS    RESTARTS   AGE
etcd-master-node                   1/1     Running   0          2h
kube-apiserver-master-node         1/1     Running   0          2h
kube-controller-manager-master     1/1     Running   0          2h
kube-scheduler-master-node         1/1     Running   0          2h

```

---

### 4. 주요 데몬 식별 요약

| 프로세스명 (데몬) | 확인 키워드 | 주요 특징 |
| --- | --- | --- |
| **kubelet** | `kubelet` | 노드의 마스터 에이전트, 가장 먼저 확인해야 함 |
| **kube-proxy** | `kube-proxy` | 네트워크 규칙(iptables/IPVS) 생성 데몬 |
| **containerd** | `containerd` | 컨테이너를 실제로 돌리는 엔진 프로세스 |
| **etcd** | `etcd` | 클러스터의 DB (마스터 노드 전용) |

> [!NOTE]
> **AWS 운영 및 과금 주의사항**
> AWS **EKS** 환경의 워커 노드에서 `ps -ef`를 실행하면 `kubelet` 프로세스는 보이지만, 마스터 구성 요소인 `etcd`나 `api-server`는 AWS 관리형 영역에 있으므로 프로세스 목록에 나타나지 않습니다. 직접 구축한 클러스터에서 `etcd` 프로세스의 CPU 사용량이 급증할 경우, **EC2 인스턴스의 IOPS 제한**에 걸려 클러스터 전체 지연이 발생할 수 있으며, 이를 해결하기 위해 **EBS 타입을 gp3 등으로 업그레이드할 때 추가 과금**이 발생할 수 있습니다.

Next Step: journalctl 명령어로 kubelet 상세 에러 로그 확인하기

---
