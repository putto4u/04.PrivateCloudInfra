
Kubernetes의 명령어 체계는 크게 사용자 명령용(`kubectl`), 클러스터 구축 및 관리용(`kubeadm`), 그리고 노드 레벨의 에이전트 서비스로 나뉩니다. 각 도구의 역할과 주요 명령어를 범주별로 정리하였습니다.

---

## 1. 사용자용 명령어: kubectl

사용자가 클러스터와 상호작용하며 리소스를 생성, 조회, 수정, 삭제할 때 사용하는 가장 기본적인 도구입니다.

| 범주 | 주요 명령어 | 설명 |
| --- | --- | --- |
| **리소스 조회** | `get`, `describe`, `logs` | 객체 상태 확인, 상세 정보 및 로그 출력 |
| **리소스 제어** | `apply`, `delete`, `edit` | YAML 기반 생성/수정 및 리소스 삭제 |
| **실행 및 접속** | `exec`, `run`, `port-forward` | 컨테이너 내부 명령 실행 및 포트 연결 |
| **스케일링/롤아웃** | `scale`, `rollout` | 복제본(Replicas) 수 조절 및 배포 버전 관리 |
| **설정 관리** | `config`, `auth` | 클러스터 연결 컨텍스트 및 권한 확인 |

---

## 2. 클러스터 관리자용 명령어: kubeadm

클러스터의 생명 주기(생성, 업그레이드, 보호, 해체)를 관리하는 관리자 전용 도구입니다.

| 범주 | 주요 명령어 | 설명 |
| --- | --- | --- |
| **클러스터 생성** | `init` | 마스터 노드(Control Plane) 초기화 |
| **노드 확장** | `join` | 워커 노드를 기존 클러스터에 연결 |
| **인증 관리** | `token`, `certs` | 조인용 토큰 생성 및 TLS 인증서 관리 |
| **유지 보수** | `upgrade`, `reset` | 클러스터 버전 업그레이드 및 설정 초기화 |
| **구성 검사** | `config` | kubeadm 실행 시 사용하는 설정값 관리 |

---

## 3. 노드 에이전트 및 서비스

명령어 형태보다는 시스템 데몬(Service)으로 상주하며 클러스터의 상태를 유지하는 핵심 요소입니다.

| 구분 | 주요 역할 | 특징 |
| --- | --- | --- |
| **kubelet** | 파드 실행 관리 | 각 노드의 컨테이너 실행 상태를 마스터에 보고 |
| **kube-proxy** | 네트워크 관리 | 서비스(Service)의 IP/Port 규칙을 IPTables 등에 반영 |
| **containerd** | 컨테이너 런타임 | 실제 컨테이너를 구동하는 하부 엔진 (CRI) |

---

## 4. 클러스터 구성 요소 간의 역할 계층

각 명령어가 어느 계층에서 동작하는지 이해하면 전체 아키텍처 파악이 수월합니다.

---

## 5. 클라우드 환경 전용 관리 도구

AWS와 같은 매니지드 환경에서는 위 표준 명령어 외에 클라우드 제공사 전용 도구를 함께 사용합니다.

| 도구명 | 대상 서비스 | 주요 기능 |
| --- | --- | --- |
| **eksctl** | **AWS EKS** | EKS 클러스터, 노드 그룹, IAM 역할 자동 생성 |
| **aws-cli** | **AWS 전체** | `update-kubeconfig`를 통한 클러스터 접근 권한 획득 |

> **⚠️ 과금 유의사항 (AWS 기준)**
> * **EKS Control Plane**: 클러스터 생성 시 시간당 **$0.10**의 고정 비용이 발생합니다.
> * **Worker Nodes**: `eksctl`로 생성된 EC2 인스턴스 사양에 따라 시간당 비용이 발생하며, 사용하지 않을 때는 `scale` 명령으로 노드 수를 0으로 조절하여 비용을 절감할 수 있습니다.
> 
> 

Next Step: kubectl과 kubeadm의 실제 연동 워크플로우

---

사용자가 직접 치는 `kubectl`과 인프라를 만드는 `kubeadm`, 그리고 보이지 않는 곳에서 일하는 `kubelet`의 차이를 중심으로 정리했습니다. 깃허브 등에서 바로 활용하실 수 있도록 표 형식을 맞추었습니다. 마지막에 언급한 AWS 비용 관련 부분도 강의 시 참고하시기 바랍니다.






















## 1. kubeadm (Cluster Administration)

클러스터를 처음 구축(Bootstrap)하거나 업그레이드할 때 사용하는 관리자용 명령어입니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 클러스터 초기화 | `kubeadm init` | 마스터 노드(Control Plane) 설정 시작 |
| 워커 노드 조인 | `kubeadm join <master-ip>` | 마스터 노드에 워커 노드를 연결 |
| 토큰 관리 | `kubeadm token list` | 노드 조인 시 필요한 인증 토큰 확인 |
| 설정 초기화 | `kubeadm reset` | 해당 노드에 설치된 k8s 설정 삭제 |
| 버전 업그레이드 | `kubeadm upgrade` | 클러스터 버전을 상위 버전으로 갱신 |










Kubernetes(k8s) 운영 및 관리를 위해 가장 빈번하게 사용되는 `kubectl` 주요 명령어 모음입니다. 각 명령어는 클러스터의 상태를 확인하고 리소스를 제어하는 데 필수적인 요소들로 구성되었습니다.

---

## 1. 클러스터 정보 및 상태 확인

클러스터의 전체적인 상태와 연결 정보를 확인하는 기본 명령어입니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 클러스터 정보 확인 | `kubectl cluster-info` | 마스터 및 서비스 주소 확인 |
| 노드 상태 확인 | `kubectl get nodes` | 클러스터 구성 노드 목록 및 상태 |
| 컨텍스트 목록 확인 | `kubectl config get-contexts` | 현재 연결 가능한 클러스터 목록 |
| 현재 컨텍스트 확인 | `kubectl config current-context` | 현재 활성화된 클러스터 확인 |
| API 리소스 목록 확인 | `kubectl api-resources` | 지원하는 리소스 타입 전체 확인 |

---

## 2. 리소스 조회 및 상세 정보 (`get`, `describe`)

현재 실행 중인 오브젝트의 상태를 파악하고 트러블슈팅을 위해 상세 정보를 조회합니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 모든 파드 조회 | `kubectl get pods` | `-n <namespace>`로 특정 네임스페이스 지정 가능 |
| 서비스 조회 | `kubectl get svc` | 생성된 Service와 ClusterIP/ExternalIP 확인 |
| 상세 정보 확인 | `kubectl describe <type> <name>` | 이벤트 로그 및 상세 설정 확인 (매우 중요) |
| 넓은 형식 조회 | `kubectl get <type> -o wide` | IP 주소 및 노드 할당 정보 포함 |
| YAML 형식 출력 | `kubectl get <type> <name> -o yaml` | 리소스의 전체 설정을 YAML로 출력 |
| 실시간 감시 | `kubectl get <type> -w` | 상태 변화를 실시간(Watch)으로 모니터링 |

---

## 3. 리소스 생성 및 수정 (`apply`, `edit`, `delete`)

선언적인 방식(YAML) 또는 명령형 방식으로 리소스를 관리합니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 리소스 생성/업데이트 | `kubectl apply -f <file.yaml>` | 파일 내용을 바탕으로 리소스 반영 |
| 리소스 직접 수정 | `kubectl edit <type> <name>` | 실행 중인 리소스를 에디터로 즉시 수정 |
| 리소스 삭제 | `kubectl delete <type> <name>` | 특정 리소스 삭제 |
| 파일 기반 삭제 | `kubectl delete -f <file.yaml>` | YAML 파일에 정의된 리소스 전체 삭제 |
| 레이블 부여 | `kubectl label pods <name> <key>=<value>` | 특정 파드에 메타데이터(Label) 추가 |

---

## 4. 트러블슈팅 및 로그 확인

컨테이너 내부 상태를 확인하고 문제를 진단할 때 사용합니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 파드 로그 확인 | `kubectl logs <pod-name>` | 애플리케이션 로그 출력 |
| 실시간 로그 추적 | `kubectl logs -f <pod-name>` | 로그를 계속해서 출력(Tail) |
| 컨테이너 접속 | `kubectl exec -it <pod-name> -- /bin/bash` | 파드 내부 셸 접속 |
| 임시 명령 실행 | `kubectl exec <pod-name> -- <command>` | 접속하지 않고 내부에서 명령만 실행 |
| 포트 포워딩 | `kubectl port-forward <pod-name> <local>:<remote>` | 로컬 포트를 파드 포트로 연결 (테스트용) |

---

## 5. 배포 및 스케일링 (`rollout`, `scale`)

애플리케이션의 버전 관리 및 복제본 수를 조절합니다.

| 기능 | 명령어 | 비고 |
| --- | --- | --- |
| 복제본 수 조절 | `kubectl scale deployment <name> --replicas=3` | 파드 개수를 즉시 변경 |
| 배포 이력 확인 | `kubectl rollout history deployment/<name>` | 업데이트 기록 및 버전 확인 |
| 이전 버전 복구 | `kubectl rollout undo deployment/<name>` | 최신 업데이트 취소(Rollback) |
| 배포 상태 확인 | `kubectl rollout status deployment/<name>` | 배포 진행 상황 모니터링 |

---

> **💡 실전 팁 (Cheat Sheet)**
> * **Alias 설정:** `alias k='kubectl'`를 설정하여 타자 횟수를 줄이는 것이 관례입니다.
> * **Namespace 주의:** 리소스가 보이지 않는다면 `-A` (All Namespaces) 옵션을 붙여보세요.
> * **Dry Run:** 실제 생성 전 문법 검사를 위해 `--dry-run=client -o yaml` 옵션을 활용하세요.
> 
> 

Next Step: 쿠벨레티스 네임스페이스와 레이블 관리 전략

