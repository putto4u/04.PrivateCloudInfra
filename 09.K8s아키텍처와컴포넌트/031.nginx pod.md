이번 실습에서는 가장 기본적인 방식으로 Nginx 파드를 생성하고, 외부에서 접속할 수 있도록 포트를 포워딩하여 브라우저에서 확인하는 과정을 진행합니다. 실전에서는 Deployment를 사용하지만, 기초 개념 파악을 위해 **Pod** 단위를 직접 제어해 보겠습니다.

---

## 실습: Nginx 파드 생성 및 상태 확인

### 1. Nginx 파드 생성 (YAML 방식)

먼저 파드의 설계도인 YAML 파일을 작성합니다.

```yaml
apiVersion: v1              # 쿠버네티스 API 버전
kind: Pod                   # 리소스의 종류 (파드)
metadata:
  name: nginx-practice      # 파드의 이름 설정
  labels:
    app: basic-web          # 파드를 식별하기 위한 라벨링
spec:
  containers:
  - name: my-nginx          # 컨테이너 이름 설정
    image: nginx:latest     # 사용할 도커 이미지 (Docker Hub에서 가져옴)
    ports:
    - containerPort: 80     # 컨테이너가 내부적으로 사용하는 포트

```

### 2. 주요 명령어 실습

터미널에서 아래 명령어들을 순서대로 입력하며 파드를 관리해 봅니다.

```bash
# 1. 파드 생성 (파일명을 nginx-pod.yaml로 저장했다고 가정)
kubectl apply -f nginx-pod.yaml

# 2. 파드 목록 및 상태 확인 (상태가 Running인지 확인)
kubectl get pods

# 3. 파드의 상세 정보 확인 (IP 주소, 할당된 노드, 이벤트 로그 등)
kubectl describe pod nginx-practice

# 4. 실시간 로그 확인 (브라우저 접속 시 로그가 찍히는 것을 볼 수 있음)
kubectl logs -f nginx-practice

# 5. 로컬 PC와 파드 간의 포트 포워딩 (브라우저 접속을 위해 필요)
# 포트 8080으로 접속하면 파드의 80번 포트로 연결해줍니다.
kubectl port-forward nginx-practice 8080:80

```

---

### 3. 결과 확인

1. **브라우저 확인:** 크롬 등 브라우저를 열고 주소창에 `http://localhost:8080`을 입력합니다.
2. **출력:** "Welcome to nginx!" 페이지가 나타나면 성공입니다.
3. **로그 확인:** 브라우저 접속 시 터미널의 `kubectl logs` 창에 접속 기록이 남는 것을 확인하세요.

---

### 4. 핵심 명령어 설명 및 팁

* **`kubectl get pods`**: 클러스터에 떠 있는 파드들의 요약 상태(STATUS, RESTARTS, AGE 등)를 빠르게 훑어볼 때 사용합니다.
* **`kubectl describe`**: 파드가 `Pending` 상태에 머물거나 `Error`가 났을 때, 가장 하단의 **Events** 항목을 보면 왜 문제가 생겼는지(이미지 이름 오타, 리소스 부족 등) 상세 이유가 나옵니다.
* **`kubectl port-forward`**: 별도의 `Service` 객체를 만들지 않고도 로컬 환경에서 파드를 즉시 테스트할 수 있는 아주 유용한 디버깅 도구입니다.

> **주의사항:** `port-forward` 명령어를 실행 중인 터미널을 닫거나 `Ctrl+C`를 누르면 브라우저 접속이 끊깁니다. 테스트가 끝나면 해당 명령을 중단하세요.

---

### 5. 리소스 삭제

실습이 끝난 후에는 클러스터 자원을 반납하기 위해 파드를 삭제합니다.

```bash
# 이름으로 삭제
kubectl delete pod nginx-practice

# 또는 파일 기반으로 삭제
kubectl delete -f nginx-pod.yaml

```

**Next Step:** Deployment를 이용한 파드 복제 및 자동 복구 실습
