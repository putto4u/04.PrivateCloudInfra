이번 실습에서는 Kubernetes 내에서 논리적인 가상 클러스터를 생성하는 **네임스페이스(Namespace)**의 개념을 학습하고, 이를 통해 자원을 격리하고 관리하는 방법을 익힙니다. 대규모 클러스터에서 프로젝트별, 팀별, 또는 환경별(개발/운영)로 자원을 구분하는 실무적인 기술을 다룹니다.

---

## 챕터: Kubernetes 네임스페이스를 활용한 자원 격리

네임스페이스는 하나의 물리적인 Kubernetes 클러스터를 여러 개의 논리적인 단위로 나누는 역할을 합니다. 이를 통해 동일한 이름의 오브젝트(Pod, Service 등)가 충돌 없이 공존할 수 있는 독립된 공간을 제공합니다.

### 1. 네임스페이스의 주요 특징 및 용도

* **논리적 격리**: 프로젝트 단위로 자원을 분리하여 간섭을 방지합니다.
* **권한 관리(RBAC)**: 특정 네임스페이스에 대해서만 사용자 권한을 부여할 수 있습니다.
* **자원 제한(Quota)**: 네임스페이스별로 사용할 수 있는 vCPU나 Memory의 총량을 제한하여 특정 팀이 자원을 독점하는 것을 방지합니다.

---

### 2. 실습: 네임스페이스 생성 및 자원 배포

실습용 네임스페이스를 생성하고, 해당 공간에 독립적인 엔진들을 배포하는 과정을 진행합니다.

#### **01-namespace-setup.yaml**

```yaml
# 01-namespace-setup.yaml
# 설명: 'edu-project'라는 이름의 새로운 논리적 공간을 생성합니다.

apiVersion: v1
kind: Namespace
metadata:
  name: edu-project
  labels:
    env: education

```

#### **02-ns-specific-deployment.yaml**

```yaml
# 02-ns-specific-deployment.yaml
# 설명: 생성한 'edu-project' 네임스페이스 안에 Nginx 엔진을 배포합니다.

apiVersion: apps/v1
kind: Deployment
metadata:
  name: ns-nginx-deployment
  namespace: edu-project # 리소스가 생성될 공간을 지정
spec:
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:alpine

```

---

### 3. 네임스페이스 관리 실습 명령어

네임스페이스를 다루는 주요 명령어를 익혀 실무 역량을 강화합니다.

1. **네임스페이스 목록 조회**:
* `kubectl get ns`


2. **특정 네임스페이스의 Pod 확인**:
* `kubectl get pods -n edu-project`


3. **기본 네임스페이스 변경 (팁)**:
* 매번 `-n` 옵션을 쓰기 번거로울 때 현재 컨텍스트를 고정합니다.
* `kubectl config set-context --current --namespace=edu-project`


4. **네임스페이스 삭제**:
* `kubectl delete ns edu-project`
* **주의**: 네임스페이스 삭제 시 그 안에 포함된 모든 리소스(Pod, Service, ConfigMap 등)가 함께 영구 삭제됩니다.



---

### 4. 실무 전문가 팁

* **기본 네임스페이스**: Kubernetes 설치 시 생성되는 `default`, `kube-system`(시스템 관리용), `kube-public`(공개 정보용)의 용도를 정확히 파악하십시오.
* **리소스 명명 규칙**: 네임스페이스가 다르면 Pod 이름이 같아도 충돌하지 않습니다. 예를 들어 `dev` 네임스페이스와 `prod` 네임스페이스에 각각 이름이 `web-server`인 Pod를 동시에 띄울 수 있습니다.
* **AWS 과금 및 성능**:
* 네임스페이스 생성 자체에는 추가 비용이 들지 않습니다.
* 하지만 네임스페이스별로 `ResourceQuota`를 설정하지 않으면, 특정 네임스페이스의 Pod가 노드의 모든 자원을 소모하여 다른 서비스에 영향을 줄 수 있으니 주의하십시오.



---

Next Step: 네임스페이스별 자원 할당량 제한(ResourceQuota) 설정 실습

---

Next Step: 네임스페이스 자원 제한 설정 방법
